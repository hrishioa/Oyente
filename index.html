<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Oyente by hrishioa</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Oyente</h1>
        <p class="header">Smart Contract analysis tool</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/hrishioa/Oyente/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/hrishioa/Oyente/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/hrishioa/Oyente">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/hrishioa">hrishioa</a></p>


      </header>
      <section>
        <h1>
<a id="oyente" class="anchor" href="#oyente" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Oyente</h1>

<p><strong>Note: The tool is currently under development, please report any bugs you may find.</strong></p>

<h2>
<a id="quick-start" class="anchor" href="#quick-start" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Quick Start</h2>

<p>A container with the dependencies set up and the blockchain snapshot installed can be found <a href="https://hub.docker.com/r/hrishioa/oyente/">here</a>.</p>

<p>To open the container, install docker and run:</p>

<p><code>docker pull hrishioa/oyente &amp;&amp; docker run -i -t hrishioa/oyente</code></p>

<p>To evaluate the greeter contract Inside the container, run:</p>

<p><code>cd /home/oyente/oyente &amp;&amp; source ../dependencies/venv/bin/activate &amp;&amp; python oyente.py greeter.sol</code></p>

<p>and you are done!</p>

<h2>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dependencies</h2>

<ol>
<li>solc and disasm from <a href="https://github.com/ethereum/go-ethereum">go-ethereum</a>
</li>
<li>
<a href="https://github.com/Z3Prover/z3/releases">z3</a> Theorem Prover</li>
</ol>

<h2>
<a id="evaluating-ethereum-contracts" class="anchor" href="#evaluating-ethereum-contracts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Evaluating Ethereum Contracts</h2>

<p><code>python oyente.py &lt;contract filename&gt;</code></p>

<p>And that's it! Run <code>python oyente.py --help</code> for a list of options.</p>

<h2>
<a id="paper" class="anchor" href="#paper" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Paper</h2>

<p>The accompanying paper explaining the bugs detected by the tool can be found <a href="http://www.comp.nus.edu.sg/%7Eloiluu/papers/oyente.pdf">here</a>.</p>

<h2>
<a id="miscellaneous-utilities" class="anchor" href="#miscellaneous-utilities" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Miscellaneous Utilities</h2>

<p>A collection of the utilities that were developed for the paper are in <code>Misc_Utils</code>. Use them at your own risk - they have mostly been disposable.</p>

<ol>
<li>
<code>generate-graphs.py</code> - Contains a number of functions to get statistics from contracts.</li>
<li>
<code>get_source.py</code> - The <em>get_contract_code</em> function can be used to retrieve contract source from <a href="https://etherscan.io">EtherScan</a>
</li>
<li>
<code>transaction_scrape.py</code> - Contains functions to retrieve up-to-date transaction information for a particular contract.</li>
</ol>

<h2>
<a id="benchmarks" class="anchor" href="#benchmarks" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Benchmarks</h2>

<p>Note: This is an improved version of the tool used for the paper. Benchmarks are not for direct comparison.</p>

<p>To run the benchmarks, it is best to use the docker container as it includes the blockchain snapshot necessary.
In the container, run <code>batch_run.py</code> after activating the virtualenv. Results are in <code>results.json</code> once the benchmark completes.</p>

<p>The benchmarks take a long time and a <em>lot</em> of RAM in any but the largest of clusters, beware.</p>

<h4>
<a id="known-issues" class="anchor" href="#known-issues" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Known Issues</h4>

<p>If you encounter the <code>unhashable instance</code> error, please add the following to your <code>class AstRef(Z3PPObject):</code> in <code>/usr/lib/python2.7/dist-packages/z3.py</code>:</p>

<pre><code>def __hash__(self):
        return self.hash()
</code></pre>

<p>The latest version of Z3 does support this, but some previous version does not.</p>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
